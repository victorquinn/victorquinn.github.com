
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Programmatically Creating Fielded Nodes in Drupal 7 - Victor Quinn</title>
  <meta name="author" content="Victor Quinn">

  
  <meta name="description" content="The Setup You&#8217;ve just created your new super awesome node type in Drupal 7 using the (now in core!) Content type editor. Now you want to &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://victorquinn.com/blog/2012/08/11/programmatically-creating-fielded-d7-nodes/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Victor Quinn" type="application/atom+xml">
  <!--Custom Javascript -->
<script src="/javascripts/jquery-1.7.1.min.js"></script>
<script type="text/javascript">
  jQuery.noConflict();
</script>
<script src="/javascripts/victorquinn.js"></script>

<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=Mate+SC:400,400italic,700,700italic,900,900italic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Carrois+Gothic+SC" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Playball" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Lustria" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Molengo" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-29142694-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <a id="top"></a>
  <h1><a href="/">Victor Quinn</a></h1>
  
    <h2>Software Engineer, Legal Scholar, Problem Solver.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<ul class="main-navigation">
  <li><a class="menu menu1" href="/blog/categories/tutorial/">Tutorials</a></li>
  <li><a class="menu menu2" href="/development">Development</a></li>
  <li><a class="menu menu3" href="/blog/archives/">Archives</a>
  <li><a class="menu menu4" href="/legal">Legal</a></li>
  <li><a class="menu menu5" href="/files/VQResumeLatest.pdf">Résumé</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Programmatically Creating Fielded Nodes in Drupal 7</h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-11T18:23:00-04:00" pubdate data-updated="true">Aug 11<span>th</span>, 2012</time>
        
      </p>
    
  </header>


<div class="entry-content"><h3>The Setup</h3>

<p>You&#8217;ve just created your new super awesome node type in Drupal 7 using the (now in core!) Content type editor.</p>

<p><img class="center" src="/images/contenttype1.png"></p>

<p>Now you want to programmatically generate some Super Awesome Content nodes. Some <a href="https://www.google.com">Googling</a> (or <a href="https://duckduckgo.com">Ducking</a>!) will land you with some snippets that look as follows:</p>

<figure class='code'><figcaption><span>Works with standard node  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cp">&lt;?php</span>
</span><span class='line'><span class="k">function</span> <span class="nf">create_my_node</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="nv">$node</span> <span class="o">=</span> <span class="k">new</span> <span class="k">stdClass</span><span class="p">();</span>
</span><span class='line'>  <span class="nv">$node</span><span class="o">-&gt;</span><span class="na">type</span> <span class="o">=</span> <span class="s1">&#39;blog&#39;</span><span class="p">;</span>
</span><span class='line'>  <span class="nx">node_object_prepare</span><span class="p">(</span><span class="nv">$node</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="nv">$node</span><span class="o">-&gt;</span><span class="na">title</span> <span class="o">=</span> <span class="s2">&quot;My Awesome Title&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="nv">$node</span><span class="o">-&gt;</span><span class="na">language</span> <span class="o">=</span> <span class="nx">LANGUAGE_NONE</span><span class="p">;</span>
</span><span class='line'>  <span class="nx">node_save</span><span class="p">(</span><span class="nv">$node</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h3>The Problem</h3>

<p>Since you&#8217;ve defined a custom content type, you may think something like the following would work great with your new custom node type to set your custom field values:</p>

<figure class='code'><figcaption><span>Attempt with custom node (this will fail!)  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cp">&lt;?php</span>
</span><span class='line'><span class="k">function</span> <span class="nf">create_my_node</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="nv">$node</span> <span class="o">=</span> <span class="k">new</span> <span class="k">stdClass</span><span class="p">();</span>
</span><span class='line'>  <span class="nv">$node</span><span class="o">-&gt;</span><span class="na">type</span> <span class="o">=</span> <span class="s1">&#39;super_awesome_content&#39;</span><span class="p">;</span>
</span><span class='line'>  <span class="nx">node_object_prepare</span><span class="p">(</span><span class="nv">$node</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="nv">$node</span><span class="o">-&gt;</span><span class="na">title</span> <span class="o">=</span> <span class="s2">&quot;My Awesome Title&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="nv">$node</span><span class="o">-&gt;</span><span class="na">language</span> <span class="o">=</span> <span class="nx">LANGUAGE_NONE</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// Try to set your custom field values</span>
</span><span class='line'>  <span class="nv">$node</span><span class="o">-&gt;</span><span class="na">field_reasons_for_being_awesome</span> <span class="o">=</span> <span class="s2">&quot;Too many to count...&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="nv">$node</span><span class="o">-&gt;</span><span class="na">field_awesome_points</span> <span class="o">=</span> <span class="mi">23</span><span class="p">;</span>
</span><span class='line'>  <span class="nx">node_save</span><span class="p">(</span><span class="nv">$node</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>However, that will fail! Why? Because you can&#8217;t set node custom fields like you may expect with <em>$node->{$key}</em>.</p>

<p><em>In my opinion, this is one thing Drupal 7 got very wrong. I&#8217;ll explain their rationale in a bit after showing the correct way to do this and it does make some sense, but it seems unnecessarily complicated.</em></p>

<h3>The Solution</h3>

<p>Instead of trying to set those custom field attributes directly, you have to use the following funky syntax:</p>

<figure class='code'><figcaption><span>Successful attempt with custom node (this totally works!)  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cp">&lt;?php</span>
</span><span class='line'><span class="k">function</span> <span class="nf">create_my_node</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="nv">$node</span> <span class="o">=</span> <span class="k">new</span> <span class="k">stdClass</span><span class="p">();</span>
</span><span class='line'>  <span class="nv">$node</span><span class="o">-&gt;</span><span class="na">type</span> <span class="o">=</span> <span class="s1">&#39;super_awesome_content&#39;</span><span class="p">;</span>
</span><span class='line'>  <span class="nx">node_object_prepare</span><span class="p">(</span><span class="nv">$node</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="nv">$node</span><span class="o">-&gt;</span><span class="na">title</span> <span class="o">=</span> <span class="s2">&quot;My Awesome Title&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="nv">$node</span><span class="o">-&gt;</span><span class="na">language</span> <span class="o">=</span> <span class="nx">LANGUAGE_NONE</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// Try to set your custom field</span>
</span><span class='line'>  <span class="nv">$node</span><span class="o">-&gt;</span><span class="na">field_reasons_for_being_awesome</span><span class="p">[</span><span class="s1">&#39;und&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Too many to count...&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="nv">$node</span><span class="o">-&gt;</span><span class="na">field_awesome_points</span><span class="p">[</span><span class="s1">&#39;und&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">23</span><span class="p">;</span>
</span><span class='line'>  <span class="nx">node_save</span><span class="p">(</span><span class="nv">$node</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Huh? What&#8217;s with this <em>[&#8216;und&#8217;][0][&#8216;value&#8217;]</em> stuff?</p>

<p>Well, it&#8217;s a bit complicated. Let&#8217;s break it down piece by piece</p>

<h4>[&#8216;und&#8217;]</h4>

<p>This first bit is the language to be applied to the field. <em>&#8216;und&#8217;</em> is the key specifying that the language is undefined. This could also be &#8216;en&#8217; or &#8216;de&#8217; or &#8216;fr&#8217; or any other 2 letter language code if a particular language is specified for this field.</p>

<h4>[0]</h4>

<p>This is an array index. For any single value fields like the ones we have, this is just [0]. But it&#8217;s conceivable to have multiple values in which this would kind of make sense. For example, let&#8217;s say our reasons_for_being_awesome field was a multi-value field:</p>

<figure class='code'><figcaption><span>Multi-value field  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cp">&lt;?php</span>
</span><span class='line'>  <span class="o">...</span>
</span><span class='line'>  <span class="nv">$node</span><span class="o">-&gt;</span><span class="na">field_reasons_for_being_awesome</span><span class="p">[</span><span class="s1">&#39;und&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Too many to count...&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="nv">$node</span><span class="o">-&gt;</span><span class="na">field_reasons_for_being_awesome</span><span class="p">[</span><span class="s1">&#39;und&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Reason number 2&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="nv">$node</span><span class="o">-&gt;</span><span class="na">field_reasons_for_being_awesome</span><span class="p">[</span><span class="s1">&#39;und&#39;</span><span class="p">][</span><span class="mi">2</span><span class="p">][</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Another reason&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="nv">$node</span><span class="o">-&gt;</span><span class="na">field_reasons_for_being_awesome</span><span class="p">[</span><span class="s1">&#39;und&#39;</span><span class="p">][</span><span class="mi">3</span><span class="p">][</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;The most important reason&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="nx">node_save</span><span class="p">(</span><span class="nv">$node</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>So it makes some sense for the array index to be there, but it&#8217;s somewhat confusing for what is arguably the main use case &#8211; namely trying to assign a single value to a field.</p>

<h4>[&#8216;value&#8217;]</h4>

<p>This may be the oddest piece. There are a few other keys which could be specified here, among them <em>[&#8216;format&#8217;]</em> and <em>[&#8216;summary&#8217;]</em>, but when working programmatically with custom fields, it&#8217;s rare to be setting anything other than <em>[&#8216;value&#8217;]</em>.</p>

<h3>Summary</h3>

<figure class='code'><figcaption><span>Summary  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cp">&lt;?php</span>
</span><span class='line'>  <span class="c1">// Won&#39;t work</span>
</span><span class='line'>  <span class="nv">$node</span><span class="o">-&gt;</span><span class="na">field_reasons_for_being_awesome</span> <span class="o">=</span> <span class="s2">&quot;Too many to count...&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="nv">$node</span><span class="o">-&gt;</span><span class="na">field_awesome_points</span> <span class="o">=</span> <span class="mi">23</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// Will work</span>
</span><span class='line'>  <span class="nv">$node</span><span class="o">-&gt;</span><span class="na">field_reasons_for_being_awesome</span><span class="p">[</span><span class="s1">&#39;und&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Too many to count...&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="nv">$node</span><span class="o">-&gt;</span><span class="na">field_awesome_points</span><span class="p">[</span><span class="s1">&#39;und&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">23</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>Commentary</h3>

<p>I think Drupal should be much better here and dropped the ball for developers by not allowing the first method above to work. This [&#8216;und&#8217;][0][&#8216;value&#8217;] mess may make it easier for the system to deal with the input, but it makes things far more difficult/complicated for developers. This is an area where it&#8217;s painfully clear that the Drupal Field API is not a true ORM like <a href="http://api.rubyonrails.org/classes/ActiveRecord/Base.html">ActiveRecord</a> and in my opinion that&#8217;s a missed opportunity.</p>

<p>Ideally the system would be able to default to allowing things to be set with just the key and not require developers to specify the language, array index, and value key every single time a value is set to the field.</p>
<a rel="permalink" class="permalink" href="">∮</a></div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Victor Quinn</span></span>

      








  


<time datetime="2012-08-11T18:23:00-04:00" pubdate data-updated="true">Aug 11<span>th</span>, 2012</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/development/'>Development</a>, <a class='category' href='/blog/categories/drupal/'>Drupal</a>, <a class='category' href='/blog/categories/tutorial/'>Tutorial</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://victorquinn.com/blog/2012/08/11/programmatically-creating-fielded-d7-nodes/" data-via="victorquinn" data-counturl="http://victorquinn.com/blog/2012/08/11/programmatically-creating-fielded-d7-nodes/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2012/04/22/my-new-motorcycle/" title="Previous Post: My New Motorcycle!">&laquo; My New Motorcycle!</a>
      
      
        <a class="basic-alignment right" href="/blog/2012/10/07/homebrew-tip-number-45/" title="Next Post: Homebrew Tip #45">Homebrew Tip #45 &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section id="about-me">
  <div class="author-image"><img src="http://victorquinn.com/images/VictorQuinn%20100x100.jpg"></div>
  <div class="author">
    <span class="author-name">Victor Quinn</span>
    <br />
    <span class="author-email"><a href='mailto&#58;%6Da&#105;&#108;%&#52;&#48;&#118;%&#54;9c%74%6&#70;%&#55;&#50;&#113;uinn&#46;&#99;o&#109;'>ma&#105;l&#64;v&#105;ctorquinn&#46;com</a></span>
    <span class="author-twitter"><a href="https://twitter.com/#!/victorquinn">@victorquinn</a></span>
  </div>
  <h1>About Me</h1>
  <p>I grew up in Rochester, NY. My early career aspirations included nearly anything imaginable at one point or another, but I always gravitated toward the realms of science and logic.</p>
  <p>Upon graduating from high school, I ventured to Massachusetts where I spent the next 10 years of my life becoming educated in Computer Science, Physics, and the Law.</p>
  <p>In parallel, I spent most of those years working as a professional software engineer in the field of education, first at <a href="http://www.umass.edu" target=_blank>UMass Amherst</a> and then at <a href="https://www.amherst.edu" target=_blank>Amherst College.</a>
  <p>After graduating from Law School, I moved down to Northern Virginia in search of warmer weather and a chance to enjoy life in a different region of the country. I also used this opportunity to change pace in my day-to-day, now working for <a href="http://www.ngpvan.com" target=_blank>NGP VAN</a>, a company specializing in political software. I am truly enjoying bringing my experience developing for the education sector while at the same time learning about the entirely different realm of politics.</p>
  <p>On the side I am working on building my new legal learning startup, <a href="http://scalesapp.com">Scales</a>. I am also constantly expanding my knowledge of programming and the law while living with both my wife Susan and our great dane Stella.</p>
  <p>Life is excellent and if you think otherwise, you're doing it wrong.</p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/01/06/moving/">Moving</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/23/cloud9/">Cloud9</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/25/launching-scales/">Announcing Scales</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/01/fresh-look/">Fresh look</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/26/google-civic-drupal-module/">Google Civic Drupal Module</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/victorquinn">@victorquinn</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'victorquinn',
            count: 3,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("victorquinn", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/victorquinn" class="twitter-follow-button" data-show-count="false">Follow @victorquinn</a>
  
</section>





<section>
  <h1>Coderwall</h1>
  <ul id="cw_badges">
    <li class="loading">Status updating...</li>
  </ul>

  <script type="text/javascript">
    var coderwall = (function(){
      function render(options, badges){
        var fragment = '',
            t = $(options.target),
            height = 65,
            width = 65,
            index;

        for (index in badges) {
          fragment += '<a class="cw_badge"title="' + badges[index].description + '" href="http://coderwall.com/' + options.user + '">';
          fragment +=   '<img alt="' + badges[index].description + '" height="' + width + '" width="' + height + '" src="' + badges[index].badge + '"/>';
          fragment += '</a>';
        }

        t.html(fragment);
      }
      return {
        showBadges: function(options){
          console.log(options);
          $.ajax({
              url: 'http://coderwall.com/' + options.user + '.json?callback=?'
            , dataType: 'jsonp'
            , error: function (err) { $(options.target + ' li.loading').addClass('error').text("Error loading feed"); }
            , success: function(res) {
                render(options, res.data.badges);
            }
          });
        }
      };
    })();

    $(document).ready(function(){
      coderwall.showBadges({
        user: 'victorquinn',
        target: '#cw_badges'
      });
    });
  </script>
  <style type="text/css">
    .cw_badge img {
      padding: 5px;
      border: 0 none !important;
      -moz-box-shadow: none !important;
      -webkit-box-shadow: none !important;
      -o-box-shadow: none !important;
      box-shadow: none !important;
    }
  </style>
</section>


  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Victor Quinn -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
